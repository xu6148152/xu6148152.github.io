<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>OkHttp3分析 | Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="更新:2017-09-092016-10-02 引言本文主要分析OkHttp3的原理。。其有很多特点:   HTTP2&#x2F;SPDY支持所有面向相同主机的请求共享一个Socket 连接池减少请求时间，减少握手次数 基于Headers的缓存策略 响应缓存避免重复的请求 线程队列，支持高效并发  本文基于OkHttp3.10.0-SNAPSHOT，需要弄懂一下几个问题  连接池如何维护 线程队列如何维护">
<meta property="og:type" content="article">
<meta property="og:title" content="OkHttp3分析">
<meta property="og:url" content="http://xu6148152.github.io/2017/09/09/OkHttp%E5%88%86%E6%9E%90/index.html">
<meta property="og:site_name" content="Blog">
<meta property="og:description" content="更新:2017-09-092016-10-02 引言本文主要分析OkHttp3的原理。。其有很多特点:   HTTP2&#x2F;SPDY支持所有面向相同主机的请求共享一个Socket 连接池减少请求时间，减少握手次数 基于Headers的缓存策略 响应缓存避免重复的请求 线程队列，支持高效并发  本文基于OkHttp3.10.0-SNAPSHOT，需要弄懂一下几个问题  连接池如何维护 线程队列如何维护">
<meta property="og:locale">
<meta property="og:image" content="http://xu6148152.github.io/okhttp3.png">
<meta property="article:published_time" content="2017-09-09T07:50:11.000Z">
<meta property="article:modified_time" content="2017-09-09T13:06:01.000Z">
<meta property="article:author" content="Binea">
<meta property="article:tag" content="开源库源码分析">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://xu6148152.github.io/okhttp3.png">
  
    <link rel="alternate" href="/atom.xml" title="Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

  

<meta name="generator" content="Hexo 6.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://xu6148152.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-OkHttp分析" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/09/OkHttp%E5%88%86%E6%9E%90/" class="article-date">
  <time datetime="2017-09-09T07:50:11.000Z" itemprop="datePublished">2017-09-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      OkHttp3分析
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="更新"><a href="#更新" class="headerlink" title="更新:"></a>更新:</h4><p>2017-09-09<br>2016-10-02</p>
<h4 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h4><p>本文主要分析<code>OkHttp3</code>的原理。。其有很多特点: </p>
<ul>
<li><code>HTTP2/SPDY</code>支持所有面向相同主机的请求共享一个<code>Socket</code></li>
<li>连接池减少请求时间，减少握手次数</li>
<li>基于<code>Headers</code>的缓存策略</li>
<li>响应缓存避免重复的请求</li>
<li>线程队列，支持高效并发</li>
</ul>
<p>本文基于OkHttp3.10.0-SNAPSHOT，需要弄懂一下几个问题</p>
<ul>
<li>连接池如何维护</li>
<li>线程队列如何维护</li>
<li>缓存机制如何实现</li>
<li>重试机制是怎样的</li>
</ul>
<h4 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h4><h5 id="同步"><a href="#同步" class="headerlink" title="同步"></a>同步</h5><p>&lt;!–code￼0–&gt;
</p>
<h5 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h5><p>&lt;!–code￼1–&gt;
</p>
<h4 id="源码分析"><a href="#源码分析" class="headerlink" title="源码分析"></a>源码分析</h4><h5 id="OkHttpClient"><a href="#OkHttpClient" class="headerlink" title="OkHttpClient"></a>OkHttpClient</h5><p><code>OkHttpClient</code>创建的时候，如果没有执行建造器，会使用默认构造器。这里用到了建造者模式，便于参数的配置。默认参数包括</p>
<ul>
<li>支持协议: HTTP&#x2F;2,HTTP1.1，默认没有支持(SPDY)</li>
<li>传输层协议: TLS(传输层安全协议SNI,ALPN)，未加密协议</li>
<li>代理选择器: 使用系统默认的代理选择器</li>
<li>Socket工厂: 默认</li>
<li>主机名验证: 包括验证IP,域名及证书验证X509认证</li>
<li>证书信任验证: 防止证书认证攻击和中间人攻击</li>
<li>连接池</li>
<li>dns</li>
<li>各种超时(连接，读，写: 10s</li>
</ul>
<p>&lt;!–code￼2–&gt;
</p>
<ul>
<li>创建<code>RealCall</code></li>
</ul>
<h5 id="RealCall"><a href="#RealCall" class="headerlink" title="RealCall"></a>RealCall</h5><p>&lt;!–code￼3–&gt;
</p>
<ul>
<li>创建<code>RealCall</code>时会创建<code>RetryAndFollowUpInterceptor</code></li>
</ul>
<p>请求创建完成，接下来开始发起请求</p>
<h5 id="同步请求execute"><a href="#同步请求execute" class="headerlink" title="同步请求execute"></a>同步请求execute</h5><p>&lt;!–code￼4–&gt;
</p>
<ul>
<li>通过<code>Dispatcher</code>下发请求。这里是同步的请求。</li>
</ul>
<p>&lt;!–code￼5–&gt;
</p>
<ul>
<li><code>Dispatcher</code>内部有个存储同步运行的<code>Deque</code>双端队列，队列默认大小是16</li>
</ul>
<p>&lt;!–code￼6–&gt;
</p>
<p>对于<code>ArrayDeque</code>来说,其内部如果容量不够，每次都会翻倍扩容，当大小超过<code>Integer.MAX_VALUE</code>时会抛出异常</p>
<p>&lt;!–code￼7–&gt;
</p>
<p>因此到这里，也仅仅只是将请求放入到双端队列中，还没真正开始执行</p>
<p>&lt;!–code￼8–&gt;
</p>
<ul>
<li>添加拦截器，默认有重试拦截器，桥接拦截器，缓存拦截器，连接拦截器，网络拦截器，调用服务器拦截器。这里可以看得出，将网络请求细化成了很多小部分，便于对每部分的控制。然后开始执行请求。</li>
</ul>
<h5 id="拦截器链-RealInterceptorChain"><a href="#拦截器链-RealInterceptorChain" class="headerlink" title="拦截器链(RealInterceptorChain)"></a>拦截器链(RealInterceptorChain)</h5><p>&lt;!–code￼9–&gt;
</p>
<ul>
<li>检查是否已经编码，如果已经编过码，检查连接的<code>url</code>是否正确</li>
<li>创建新的连接链，并传入下一个拦截器。直到所有的拦截器执行完成，返回结果。</li>
</ul>
<h5 id="Dispatcher异步请求策略"><a href="#Dispatcher异步请求策略" class="headerlink" title="Dispatcher异步请求策略"></a>Dispatcher异步请求策略</h5><p>&lt;!–code￼10–&gt;
</p>
<ul>
<li>主要由两个双端队列来维护，一个正在运行请求的队列，一个准备好请求的队列</li>
<li>如果队列的大小小于最大请求数并且队列请求中同一个主机的请求数小于最大请求数，添加到队列，否则添加到准备队列。默认最大请求数64，同一主机最大请求数5</li>
<li>使用线程队列执行每个运行中的请求，线程队列采用的<code>SynchronousQueue</code>，控制多线程并发，其内部永远是个空状态，任务插入操作之后，必然等待任务取出操作，内部有个<code>TransferQueue</code>来讲任务插入或取出，确保操作线程安全</li>
</ul>
<h5 id="AsyncCall"><a href="#AsyncCall" class="headerlink" title="AsyncCall"></a>AsyncCall</h5><p>内部的流程跟同步的流程一样</p>
<p>上述不管是同步，或者异步，执行完之后都会调用<code>Dispatcher</code>进行<code>finish</code>操作。来将任务移出队列。如果是异步，还会将准备队列的任务加入到运行队列，并交由线程池运行。至此，一次请求执行完成。这里面拦截器很重要，会在之后详细描述</p>
<h4 id="拦截器-Interceptor"><a href="#拦截器-Interceptor" class="headerlink" title="拦截器(Interceptor)"></a>拦截器(Interceptor)</h4><h5 id="RetryAndFollowUpInterceptor"><a href="#RetryAndFollowUpInterceptor" class="headerlink" title="RetryAndFollowUpInterceptor"></a>RetryAndFollowUpInterceptor</h5><p>&lt;!–code￼11–&gt;
</p>
<p>关于重试次数，<code>Chrome</code>使用21次，<code>Firefox</code>,<code>curl</code>和<code>wget</code>使用20次,Safari使用16次，HTTP&#x2F;1.0建议5次
最大重试20次</p>
<p>&lt;!–code￼12–&gt;
</p>
<ul>
<li>创建<code>StreamAllocation</code>协调连接池，地址信息以及请求序列</li>
<li>如果请求取消了，那么释放当前<code>Socket</code>资源</li>
<li>尝试发出网络请求，捕获这个过程的异常。<ul>
<li>如果是<code>RouteException</code>，尝试恢复</li>
<li><code>IOException</code>异常</li>
</ul>
</li>
<li>本次请求成功，释放资源</li>
<li>如果之前请求结果存在，获取该响应对应的请求<code>followUpRequest</code></li>
<li>如果请求不存在，直接返回该响应</li>
<li>如果请求次数超过上限，抛出异常</li>
<li>如果请求体已经编过码，抛出异常</li>
<li>响应和请求不是相同的地址，创建新的<code>StreamAllocation</code></li>
<li>保存该请求和该响应</li>
</ul>
<p>&lt;!–code￼13–&gt;
</p>
<ul>
<li>尝试重新连接，判断客户端是否允许重试，无法再次发送请求,没有更多的路由可选择，以及各种协议异常。如果以上情况出现则，不会进行重试连接</li>
</ul>
<p>&lt;!–code￼14–&gt;
</p>
<ul>
<li>获取响应码，根据各种响应码，构建出各自的请求，如果响应码是正常的，那么不会返回新的请求体。本次请求成功</li>
</ul>
<p>因此重试的整体流程是
* 尝试连接-&gt;如果出现(Route&#x2F;IOException)，判断能否重试-&gt;如果之前响应体存在，创造空内容的响应体，根据响应体的响应码，构建出请求，如果请求为空，那么本次请求成功，判断是否超过重试次数，请求能否发出，请求和响应地址是否一致</p>
<h5 id="BridgeInterceptor"><a href="#BridgeInterceptor" class="headerlink" title="BridgeInterceptor"></a>BridgeInterceptor</h5><p>桥接客户端代码到网络代码</p>
<p>&lt;!–code￼15–&gt;
</p>
<ul>
<li>首先桥接请求头</li>
<li>接下来进入缓存拦截器</li>
<li>处理请求体压缩，使用<code>GzipSource</code></li>
</ul>
<h5 id="CacheInterceptor"><a href="#CacheInterceptor" class="headerlink" title="CacheInterceptor"></a>CacheInterceptor</h5><p>&lt;!–code￼16–&gt;
</p>
<ul>
<li>获取内部缓存响应，默认使用<code>DiskLruCache</code></li>
<li>根据响应体的头部信息，创建缓存策略(Date, Expires, Last-Modified, ETag, Age)，记录缓存策略</li>
<li>如果禁止网络请求，并且缓存无法满足，则返回失败信息</li>
<li>禁止网络请求，返回缓存</li>
<li>发起网络请求</li>
<li>既有网络响应又有缓存响应，更新缓存</li>
<li>只有网络请求，没有缓存，如果允许缓存，怎缓存网络响应，无法缓存<code>GET</code>以外的响应.</li>
</ul>
<h5 id="ConnectInterceptor"><a href="#ConnectInterceptor" class="headerlink" title="ConnectInterceptor"></a>ConnectInterceptor</h5><p>向目标服务器打开一个连接</p>
<p>&lt;!–code￼17–&gt;
</p>
<ul>
<li>创建HttpCodec</li>
<li>连接服务器</li>
</ul>
<p>&lt;!–code￼18–&gt;
</p>
<ul>
<li>找到可用的连接</li>
<li>将请求编码，<code>Http</code>请求如何映射到<code>Socket</code>,使用<code>HttpCodec</code></li>
</ul>
<p>问题,如何找到可用的连连呢？</p>
<p>&lt;!–code￼19–&gt;
</p>
<ul>
<li>找出健康连接，何为健康连接,<code>socket</code>没被关闭,<code>socket</code>输入输出关闭,<code>Socket</code>超时,<code>BufferSource</code>耗尽</li>
</ul>
<p>&lt;!–code￼20–&gt;
</p>
<ul>
<li>如果连接已经存在，可以复用</li>
<li>不存在，根据地址从连接池获取一个连接</li>
<li>选择可用路由</li>
<li>如果没有找到可用连接,接着选择可用路由，并创建连接，连接加入新的请求信息</li>
<li>开始<code>TCP/TLS</code>握手，更新路优库</li>
<li>将连接放入连接池</li>
<li>如果有多个相同地址的连接并发创建了，那么释放当前这个，获取别的</li>
</ul>
<p>创建<code>HttpCodec</code></p>
<p>&lt;!–code￼21–&gt;
</p>
<ul>
<li>如果<code>Http2</code>不为空，直接返回<code>Http2Codec</code></li>
<li><code>Socket</code>设置相应的超时，读写时间</li>
</ul>
<h5 id="CallServerInterceptor"><a href="#CallServerInterceptor" class="headerlink" title="CallServerInterceptor"></a>CallServerInterceptor</h5><p>向服务器发起网络请求</p>
<p>&lt;!–code￼22–&gt;
</p>
<ul>
<li>请求体的内容写到<code>Okio</code>创建<code>BufferedSink</code></li>
<li>将缓冲区的数据放入<code>Socket</code>，发出</li>
<li>接收响应<code>BufferSource</code></li>
<li>更新<code>Socket</code>状态,如果<code>Socket</code>没有新的<code>Stream</code>需要处理，或者没有空连接，关闭当前<code>Socket</code></li>
</ul>
<h4 id="连接池的管理"><a href="#连接池的管理" class="headerlink" title="连接池的管理"></a>连接池的管理</h4><p><code>ConnectionPool</code>内部维护着一个双端队列，用于存储连接。还有一个黑名单路由表。还有一个线程池负责回收失效的连接</p>
<p>&lt;!–code￼23–&gt;
</p>
<p>每当有新的连接要放入连接池的时候，会先触发回收连接操作</p>
<p>&lt;!–code￼24–&gt;
</p>
<ul>
<li>如果清理线程没有再运行，执行清理线程，然后将新的连接添加到连接池中</li>
</ul>
<p>&lt;!–code￼25–&gt;
</p>
<ul>
<li>线程执行一个死循环，只有当无连接可清理时，线程退出,每次清除，线程会等待一段时间</li>
</ul>
<p>&lt;!–code￼26–&gt;
</p>
<ul>
<li>寻找有多少连接在使用中，未使用的有多少</li>
<li>找出最长空闲连接，时间必须大于<code>Long.MIN_VALUE</code></li>
<li>如果最长空闲时间大于最长存活时间或者空闲个数大于最大空闲个数，那么移除当前连接</li>
<li>有空闲连接，即将需要清理，返回需要等待的时间，等下一次清理</li>
<li>所有的连接都在用，返回最长的存活时间，让线程等待</li>
<li>最大空闲连接5个，最长存活时间5分钟</li>
</ul>
<p>如何知道连接空闲与否?</p>
<p>&lt;!–code￼27–&gt;
</p>
<ul>
<li>通过获取连接流配置信息的弱引用。来统计当前的连接是否再用。</li>
</ul>
<p>流程图</p>
<p><img data-src="/./okhttp3.png" alt="okhttp3"></p>
<h4 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h4><p>采用<code>DiskLruCache</code>来缓存请求和响应</p>
<h5 id="写入缓存put"><a href="#写入缓存put" class="headerlink" title="写入缓存put"></a>写入缓存<code>put</code></h5><p>&lt;!–code￼28–&gt;
</p>
<p>主要功能：</p>
<ol>
<li>检查请求类型，如果不是<code>Get</code>，不缓存</li>
<li>使用<code>Request</code>的<code>url</code>作为<code>key</code>来缓存</li>
<li>写入缓存</li>
</ol>
<h4 id="更新缓存update"><a href="#更新缓存update" class="headerlink" title="更新缓存update"></a>更新缓存<code>update</code></h4><p>&lt;!–code￼29–&gt;
</p>
<p>主要工作：</p>
<ol>
<li>获取缓存快照编辑器</li>
<li>将网络响应写入</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://xu6148152.github.io/2017/09/09/OkHttp%E5%88%86%E6%9E%90/" data-id="cl45dkwfi001m69kc3wqu437c" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%BC%80%E6%BA%90%E5%BA%93%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" rel="tag">开源库源码分析</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/09/09/Build-AOSP-in-mac-osx-10-11-3/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Build AOSP(8.0) in mac osx 10.12.6
        
      </div>
    </a>
  
  
    <a href="/2017/09/07/%E6%BA%90%E7%A0%81%E8%A7%92%E5%BA%A6%E5%88%86%E6%9E%90Activity%E5%90%AF%E5%8A%A8/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">源码角度分析Activity启动</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/" rel="tag">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-AOSP/" rel="tag">Android AOSP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-source-analysis/" rel="tag">Android source analysis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android%E6%BA%90%E7%A0%81/" rel="tag">Android源码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Binder-Hook-Android-Framework/" rel="tag">Binder Hook Android Framework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FFMpeg4-1-ndkr18b/" rel="tag">FFMpeg4.1 ndkr18b</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Framework/" rel="tag">Framework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Framework-Hook/" rel="tag">Framework, Hook</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang/" rel="tag">Golang</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hook-Framework-Android/" rel="tag">Hook, Framework, Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ionic-CI-Python/" rel="tag">Ionic, CI, Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java-NIO/" rel="tag">Java NIO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenGL/" rel="tag">OpenGL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python-%E5%B9%B6%E5%8F%91/" rel="tag">Python, 并发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringCloud/" rel="tag">SpringCloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringCloud%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/" rel="tag">SpringCloud源码解析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ZooKeeper/" rel="tag">ZooKeeper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zookeeper/" rel="tag">Zookeeper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/framework/" rel="tag">framework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/golang-Channel/" rel="tag">golang Channel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BC%80%E6%BA%90%E5%BA%93%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" rel="tag">开源库源码分析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" rel="tag">性能优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%BB%E7%BB%93/" rel="tag">总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" rel="tag">源码分析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E7%A8%8B/" rel="tag">编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 16.67px;">Android</a> <a href="/tags/Android-AOSP/" style="font-size: 10px;">Android AOSP</a> <a href="/tags/Android-source-analysis/" style="font-size: 10px;">Android source analysis</a> <a href="/tags/Android%E6%BA%90%E7%A0%81/" style="font-size: 10px;">Android源码</a> <a href="/tags/Binder-Hook-Android-Framework/" style="font-size: 10px;">Binder Hook Android Framework</a> <a href="/tags/FFMpeg4-1-ndkr18b/" style="font-size: 10px;">FFMpeg4.1 ndkr18b</a> <a href="/tags/Framework/" style="font-size: 10px;">Framework</a> <a href="/tags/Framework-Hook/" style="font-size: 10px;">Framework, Hook</a> <a href="/tags/Golang/" style="font-size: 10px;">Golang</a> <a href="/tags/Hook-Framework-Android/" style="font-size: 10px;">Hook, Framework, Android</a> <a href="/tags/Ionic-CI-Python/" style="font-size: 10px;">Ionic, CI, Python</a> <a href="/tags/Java-NIO/" style="font-size: 10px;">Java NIO</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/OpenGL/" style="font-size: 10px;">OpenGL</a> <a href="/tags/Python/" style="font-size: 20px;">Python</a> <a href="/tags/Python-%E5%B9%B6%E5%8F%91/" style="font-size: 10px;">Python, 并发</a> <a href="/tags/SpringCloud/" style="font-size: 10px;">SpringCloud</a> <a href="/tags/SpringCloud%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/" style="font-size: 10px;">SpringCloud源码解析</a> <a href="/tags/ZooKeeper/" style="font-size: 10px;">ZooKeeper</a> <a href="/tags/Zookeeper/" style="font-size: 10px;">Zookeeper</a> <a href="/tags/framework/" style="font-size: 10px;">framework</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/golang-Channel/" style="font-size: 10px;">golang Channel</a> <a href="/tags/%E5%BC%80%E6%BA%90%E5%BA%93%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" style="font-size: 10px;">开源库源码分析</a> <a href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 10px;">性能优化</a> <a href="/tags/%E6%80%BB%E7%BB%93/" style="font-size: 10px;">总结</a> <a href="/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" style="font-size: 13.33px;">源码分析</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 10px;">算法</a> <a href="/tags/%E7%BC%96%E7%A8%8B/" style="font-size: 10px;">编程</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 10px;">设计模式</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/06/08/fresco-memory-cache/">fresco之内存bitmap缓存</a>
          </li>
        
          <li>
            <a href="/2019/01/20/%E4%BD%BF%E7%94%A8NDK%E7%BC%96%E8%AF%91FFmpeg4-1/">使用NDK编译FFmpeg4.1</a>
          </li>
        
          <li>
            <a href="/2018/04/05/Zookeeper%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E4%B9%8B%E9%80%89%E4%B8%BE%E6%9C%BA%E5%88%B6/">Zookeeper源码分析之选举机制</a>
          </li>
        
          <li>
            <a href="/2018/04/01/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAZooKeeper/">深入浅出ZooKeeper</a>
          </li>
        
          <li>
            <a href="/2018/03/03/%E8%81%8A%E8%81%8AGo-Channel/">聊聊Go Channel</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 Binea<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


  </div>
</body>
</html>